(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f8a22f9"],{"0a7f":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"albumlist-detail"},[n("PlayListDetailHead",{attrs:{values:t.headInfo,isShowPlayListComponent:t.isShowPlayListComponent}}),n("div",{staticClass:"albumlist-content"},[n("div",{staticClass:"top"},[n("div",{staticClass:"navbar"},t._l(t.navbar,(function(e,s){return n("div",{key:s,staticClass:"item",class:t.currentIndex===s?"active":"",on:{click:function(e){return t.itemClick(s)}}},[t._v(" "+t._s(e)+" ")])})),0)]),0===t.currentIndex?n("song-list-component",{attrs:{songsInfo:t.playList},on:{handleSongClick:t.handleSongClick}}):2===t.currentIndex?n("div",{staticClass:"albumdetail"}):n("comment",{staticClass:"comment",attrs:{commentInfo:t.commentInfo,id:this.id,t:1,type:3},on:{refeshCommrnt:t.getCommentInfo}})],1)],1)},a=[],i=(n("d81d"),n("b0c0"),n("96cf"),n("1da1")),o=n("b606"),r=n("ecf2"),c=n("d52a"),l=n("8137"),u=n("3a17"),d=n("b0ee"),m={components:{PlayListDetailHead:r["a"],SongListComponent:c["a"],Comment:o["a"]},name:"AlbumListDetail",data:function(){return{headInfo:null,currentIndex:0,navbar:["歌曲列表","评论","专辑详情"],isShowPlayListComponent:!1,commentInfo:[],playList:[]}},methods:{itemClick:function(t){switch(t){case 0:this.currentIndex=t;break;case 1:this.currentIndex=t;break;case 2:this.currentIndex=t;break}},getSongListDetailInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,s,a,i,o,r,c,u,m,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id=t.$route.params.id,e.next=3,Object(l["f"])(t.id);case 3:return n=e.sent,s=n.data,a={},a.coverImgUrl=s.album.picUrl,a.titleType="专辑",a.name=s.album.name,a.singer=s.album.artist.name,a.publishTime=Object(d["b"])(s.album.publishTime),a.id=s.album.id,a.subscribed=s.album.info.liked,a.subscribedCount=s.album.info.likedCount,a.shareCount=s.album.info.shareCount,t.headInfo=a,0==!t.playList.length&&(t.playList=[]),e.next=19,Object(l["N"])(s.songs.map((function(t){var e=t.id;return e})));case 19:return i=e.sent,o=i.data.songs,e.next=23,Object(l["S"])(o.map((function(t){var e=t.id;return e})));case 23:for(r=e.sent,c=0;c<o.length;c++){for(u={},u.id=o[c].id,u.url="",m=0;m<r.data.data.length;m++)r.data.data[m].id==u.id&&(u.url=r.data.data[m].url);for(u.name=o[c].name,u.singer=[],p=0;p<o[c].ar.length;p++)u.singer[p]={name:o[c].ar[p].name,id:o[c].ar[p].id};u.pic=o[c].al.picUrl,u.totleTime=o[c].dt,u.lyric=[],u.album={name:o[c].al.name,id:o[c].al.id},t.playList.push(u)}case 25:case"end":return e.stop()}}),e)})))()},handleSongClick:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var s,a,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(l["o"])(t[0].id);case 3:if(s=n.sent,!s.data.success){n.next=22;break}return n.next=7,Object(l["R"])(t[0].id);case 7:return a=n.sent,console.log(a),e.$store.commit("setCurrentIndex",t[1]),e.playList[t[1]].lyric=Object(u["a"])(a.data.lrc.lyric),e.$store.commit("changeCurrentPlay",e.playList[t[1]]),e.$store.commit("setAllSongsToPlayList",e.playList),e.$store.commit("setIsLoad","true"),n.next=16,Object(l["M"])(t[0].id);case 16:return i=n.sent,e.$store.state.SimiSongList=i.data.playlists,n.next=20,Object(l["y"])(t[0].id,100);case 20:o=n.sent,e.$store.state.commentInfo=o.data.comments;case 22:n.next=27;break;case 24:n.prev=24,n.t0=n["catch"](0),alert("音乐没有版权");case 27:case"end":return n.stop()}}),n,null,[[0,24]])})))()},getCommentInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id=t.$route.params.id,e.next=3,Object(l["e"])(t.id,50);case 3:n=e.sent,s=n.data,t.commentInfo=s.comments;case 6:case"end":return e.stop()}}),e)})))()}},created:function(){this.itemClick(this.currentIndex),this.getSongListDetailInfo(),this.getCommentInfo()},activated:function(){this.itemClick(this.currentIndex),this.getSongListDetailInfo(),this.getCommentInfo()}},p=m,h=(n("2d7c"),n("2877")),v=Object(h["a"])(p,s,a,!1,null,"22afa9ac",null);e["default"]=v.exports},"2d7c":function(t,e,n){"use strict";n("97d1")},"47e4":function(t,e,n){"use strict";n("c48c")},"56b9":function(t,e,n){"use strict";n("8f16")},"8f16":function(t,e,n){},"97d1":function(t,e,n){},c48c:function(t,e,n){},d52a:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"songlist-component"},[s("div",{staticClass:"title-name"},[s("span",[t._v("音乐标题")]),t._t("SoaringrateTitle"),s("span",[t._v("歌手")]),s("span",[t._v("专辑")]),s("span",[t._v("时长")])],2),t._l(t.songsInfo,(function(e,a){return s("div",{key:a,staticClass:"song-item",class:e.id===t.currentId?"active-bg":""},[s("div",{staticClass:"index-number"},[t._v(" "+t._s(t.setIndex(a))+" ")]),s("img",{directives:[{name:"show",rawName:"v-show",value:!t.isHeart(e.id),expression:"!isHeart(item.id)"}],staticClass:"no-active-heart",attrs:{src:n("ea3d"),alt:""},on:{click:function(n){return t.ClickHeart(e.id,a)}}}),s("img",{directives:[{name:"show",rawName:"v-show",value:t.isHeart(e.id),expression:"isHeart(item.id)"}],staticClass:"active-heart",attrs:{src:n("75c0"),alt:""},on:{click:function(n){return t.ClickHeart(e.id,a)}}}),s("p",{staticClass:"el-icon-download",on:{click:function(n){return t.handleDownload(e)}}}),s("div",{staticClass:"song-name",on:{click:function(n){return t.HandleSongClick(e,a)}}},[s("span",{class:e.id===t.currentId?"active-name":""},[t._v(t._s(e.name))]),t._t("SQlogo"),t._t("MVlogo")],2),t._t("SoaringrateData"),s("div",{staticClass:"singer"},t._l(e.singer,(function(e,n){return s("span",{key:n,on:{click:function(n){return t.clickToSingerPapg(e.id)}}},[t._v(t._s(e.name)+" ")])})),0),s("div",{staticClass:"album",on:{click:function(n){return t.clickToAlbumPapg(e.album.id)}}},[t._v(" "+t._s(e.album.name)+" ")]),s("div",{staticClass:"time"},[t._v(t._s(t.setSongTime(e.totleTime)))])],2)}))],2)},a=[],i=(n("c740"),n("96cf"),n("1da1")),o=n("8137"),r=n("6be8"),c={name:"SongListComponent",data:function(){return{isClickHeart:!1,allSongList:[],likeList:[]}},props:{songsInfo:Array,playList:Array},methods:{ClickHeart:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t),alert("460 网络拥挤");case 2:case"end":return e.stop()}}),e)})))()},HandleSongClick:function(t,e){this.$emit("handleSongClick",[t,e]),this.$store.state.isShowFmPlayer=!1},handleDownload:function(t){this.$emit("handleDownload",t)},setSongTime:function(t){return Object(r["a"])(t/1e3|0)},setIndex:function(t){var e=t+1;return e<10?"0"+e:e},isHeart:function(t){var e=this.likeList.findIndex((function(e){return e==t}));return-1!=e},clickToSingerPapg:function(t){this.$router.push("/singerlistdetail/"+t)},clickToAlbumPapg:function(t){this.$router.push("/albumlistdetail/"+t)}},computed:{currentId:function(){return this.$store.state.currentSongInfo.id}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=JSON.parse(window.localStorage.getItem("currentUserInfo")),s=n.userId,e.next=4,Object(o["v"])(s);case 4:a=e.sent,t.likeList=a.data.ids,console.log(a);case 7:case"end":return e.stop()}}),e)})))()}},l=c,u=(n("47e4"),n("2877")),d=Object(u["a"])(l,s,a,!1,null,"05c0f9f6",null);e["a"]=d.exports},d81d:function(t,e,n){"use strict";var s=n("23e7"),a=n("b727").map,i=n("1dde"),o=n("ae40"),r=i("map"),c=o("map");s({target:"Array",proto:!0,forced:!r||!c},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},ecf2:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playlistdetail-head"},[n("div",{staticClass:"left"},[n("img",{attrs:{src:t.values.coverImgUrl}})]),n("div",{staticClass:"right"},[n("div",{staticClass:"title"},[n("span",{staticClass:"songlist-type"},[t._v(t._s(t.values.titleType))]),n("span",{staticClass:"songlist-name"},[t._v(t._s(t.values.name))]),n("i",{directives:[{name:"show",rawName:"v-show",value:t.isShowUpdataComponent,expression:"isShowUpdataComponent"}],staticClass:"el-icon-edit-outline",staticStyle:{"font-size":"25px","vertical-align":"middle",cursor:"pointer","margin-left":"5px"},on:{click:t.handleToUpdataPapg}})]),t.isShowPlayListComponent?n("div",{staticClass:"creator-info"},[n("img",{staticClass:"head-portrait",attrs:{src:t.values.avatarUrl,alt:""}}),n("span",{staticClass:"creator-name",on:{click:t.clickToUserDetailPapg}},[t._v(t._s(t.values.nickname))]),n("span",{staticClass:"create-time"},[t._v(t._s(t.values.createTime))])]):t._e(),n("div",{staticClass:"tools"},[n("el-button",{attrs:{round:""}},[n("span",{staticClass:"el-icon-caret-right",on:{click:t.handlePlayAllSongs}},[t._v("播放全部")]),n("span",{staticClass:"el-icon-plus play-all"})]),t.values.subscribed?t._e():n("el-button",{style:t.isShowUpdataComponent?"pointer-events: none; opacity: 0.6;":"",attrs:{round:""},on:{click:t.handleCollectSonglist}},[n("span",{staticClass:"el-icon-folder-add"},[t._v("收藏("+t._s(t.values.subscribedCount)+"万)")])]),t.values.subscribed?n("el-button",{attrs:{round:""},on:{click:t.handleCollectSonglist}},[n("span",{staticClass:"el-icon-folder-add"},[t._v("已收藏("+t._s(t.values.subscribedCount)+"万)")])]):t._e(),n("el-button",{attrs:{round:""}},[n("span",{staticClass:"el-icon-edit-outline"},[t._v("分享("+t._s(t.values.shareCount)+")")])]),n("el-button",{attrs:{round:""}},[n("span",{staticClass:"el-icon-download"},[t._v("下载全部")])])],1),t.isShowPlayListComponent?t._e():n("div",{staticClass:"album-info"},[n("span",{staticClass:"songer"},[t._v("歌手："+t._s(t.values.singer))]),n("br"),n("span",{staticClass:"time"},[t._v("时间："+t._s(t.values.publishTime))])]),t.isShowPlayListComponent?n("span",{staticClass:"biaoqian"},[t._v("标签：")]):t._e(),t._l(t.values.tags,(function(e){return n("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowPlayListComponent,expression:"isShowPlayListComponent"}],key:e,staticClass:"songlist-title"},[t._v(t._s(e)+" ")])})),t.isShowPlayListComponent&&0===t.values.tags.length?n("span",{staticClass:"updata-type"},[t._v("添加标签")]):t._e(),t.isShowPlayListComponent?n("div",{staticClass:"song-other-info"},[t._v(" 歌曲："+t._s(t.values.trackCount)+" 播放："+t._s(t.values.playCount)+"万 ")]):t._e(),t.isShowPlayListComponent?n("div",{staticClass:"description",style:!0===t.isShowDescription?"overflow: visible;":"overflow: hidden;"},[t._v(" 简介： "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowPlayListComponent&&""===t.values.description,expression:"isShowPlayListComponent && values.description === ''"}],staticClass:"updata-desc",on:{click:t.handleToUpdataPapg}},[t._v("添加简介")]),t._v(t._s(t.values.description)+" ")]):t._e()],2),t.isShowPlayListComponent?n("div",{staticClass:"el-icon-caret-bottom show-description",on:{click:function(e){return t.showDescription()}}}):t._e()])},a=[],i={name:"PlayListDetailHead",props:{values:Object,isShowPlayListComponent:Boolean},data:function(){return{isShowDescription:!1}},methods:{showDescription:function(){this.isShowDescription=!this.isShowDescription},handlePlayAllSongs:function(){this.$store.state.playing||this.$emit("handlePlayAllSongs")},handleCollectSonglist:function(){this.$emit("handleCollectSonglist")},handleToUpdataPapg:function(){this.$router.push("/userupdata/"+this.$route.params.id)},clickToUserDetailPapg:function(){this.$router.push("/userdetail/"+this.info.creator.userId)}},computed:{isShowUpdataComponent:function(){return this.$store.state.isShowUpdataComponent}}},o=i,r=(n("56b9"),n("2877")),c=Object(r["a"])(o,s,a,!1,null,"1f067e1d",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-1f8a22f9.6794f39e.js.map