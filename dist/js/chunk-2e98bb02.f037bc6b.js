(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e98bb02"],{"11fc":function(t,e,n){},"1acd":function(t,e,n){"use strict";n("11fc")},2780:function(t,e,n){},"3b1f":function(t,e,n){},"56b9":function(t,e,n){"use strict";n("8f16")},"72bb":function(t,e,n){},"8f16":function(t,e,n){},b2c9:function(t,e,n){"use strict";n("2780")},bf93:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon-loading"},[n("i",{staticClass:"el-icon-loading"}),n("span",[t._v("加载中")])])}],i={name:"Loading"},r=i,o=(n("b2c9"),n("2877")),c=Object(o["a"])(r,a,s,!1,null,"53e88a8c",null);e["a"]=c.exports},d52a:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"songlist-component"},[a("div",{staticClass:"title-name"},[a("span",[t._v("音乐标题")]),t._t("SoaringrateTitle"),a("span",[t._v("歌手")]),a("span",[t._v("专辑")]),a("span",[t._v("时长")])],2),t._l(t.songsInfo,(function(e,s){return a("div",{key:s,staticClass:"song-item",class:e.id===t.currentId?"active-bg":""},[a("div",{staticClass:"index-number"},[t._v(" "+t._s(t.setIndex(s))+" ")]),a("img",{directives:[{name:"show",rawName:"v-show",value:!t.isHeart(e.id),expression:"!isHeart(item.id)"}],staticClass:"no-active-heart",attrs:{src:n("ea3d"),alt:""},on:{click:function(n){return t.ClickHeart(e.id,s)}}}),a("img",{directives:[{name:"show",rawName:"v-show",value:t.isHeart(e.id),expression:"isHeart(item.id)"}],staticClass:"active-heart",attrs:{src:n("75c0"),alt:""},on:{click:function(n){return t.ClickHeart(e.id,s)}}}),a("p",{staticClass:"el-icon-download",on:{click:function(n){return t.handleDownload(e)}}}),a("div",{staticClass:"song-name",on:{click:function(n){return t.HandleSongClick(e,s)}}},[a("span",{class:e.id===t.currentId?"active-name":""},[t._v(t._s(e.name))]),t._t("SQlogo"),t._t("MVlogo")],2),t._t("SoaringrateData"),a("div",{staticClass:"singer"},t._l(e.singer,(function(e,n){return a("span",{key:n,on:{click:function(n){return t.clickToSingerPapg(e.id)}}},[t._v(t._s(e.name)+" ")])})),0),a("div",{staticClass:"album",on:{click:function(n){return t.clickToAlbumPapg(e.album.id)}}},[t._v(" "+t._s(e.album.name)+" ")]),a("div",{staticClass:"time"},[t._v(t._s(t.setSongTime(e.totleTime)))])],2)}))],2)},s=[],i=(n("c740"),n("96cf"),n("1da1")),r=n("8137"),o=n("6be8"),c={name:"SongListComponent",data:function(){return{isClickHeart:!1,allSongList:[],likeList:[]}},props:{songsInfo:Array,playList:Array},methods:{ClickHeart:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log(t),alert("460 网络拥挤");case 2:case"end":return e.stop()}}),e)})))()},HandleSongClick:function(t,e){this.$emit("handleSongClick",[t,e]),this.$store.state.isShowFmPlayer=!1},handleDownload:function(t){this.$emit("handleDownload",t)},setSongTime:function(t){return Object(o["a"])(t/1e3|0)},setIndex:function(t){var e=t+1;return e<10?"0"+e:e},isHeart:function(t){var e=this.likeList.findIndex((function(e){return e==t}));return-1!=e},clickToSingerPapg:function(t){this.$router.push("/singerlistdetail/"+t)},clickToAlbumPapg:function(t){this.$router.push("/albumlistdetail/"+t)}},computed:{currentId:function(){return this.$store.state.currentSongInfo.id}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=JSON.parse(window.localStorage.getItem("currentUserInfo")),a=n.userId,e.next=4,Object(r["v"])(a);case 4:s=e.sent,t.likeList=s.data.ids;case 6:case"end":return e.stop()}}),e)})))()}},l=c,u=(n("ebad"),n("2877")),d=Object(u["a"])(l,a,s,!1,null,"63da4b07",null);e["a"]=d.exports},d748:function(t,e,n){"use strict";n("3b1f")},d81d:function(t,e,n){"use strict";var a=n("23e7"),s=n("b727").map,i=n("1dde"),r=n("ae40"),o=i("map"),c=r("map");a({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},ebad:function(t,e,n){"use strict";n("72bb")},ecf2:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playlistdetail-head"},[n("div",{staticClass:"left"},[n("img",{attrs:{src:t.values.coverImgUrl}})]),n("div",{staticClass:"right"},[n("div",{staticClass:"title"},[n("span",{staticClass:"songlist-type"},[t._v(t._s(t.values.titleType))]),n("span",{staticClass:"songlist-name"},[t._v(t._s(t.values.name))]),n("i",{directives:[{name:"show",rawName:"v-show",value:t.isShowUpdataComponent,expression:"isShowUpdataComponent"}],staticClass:"el-icon-edit-outline",staticStyle:{"font-size":"25px","vertical-align":"middle",cursor:"pointer","margin-left":"5px"},on:{click:t.handleToUpdataPapg}})]),t.isShowPlayListComponent?n("div",{staticClass:"creator-info"},[n("img",{staticClass:"head-portrait",attrs:{src:t.values.avatarUrl,alt:""}}),n("span",{staticClass:"creator-name",on:{click:t.clickToUserDetailPapg}},[t._v(t._s(t.values.nickname))]),n("span",{staticClass:"create-time"},[t._v(t._s(t.values.createTime))])]):t._e(),n("div",{staticClass:"tools"},[n("el-button",{attrs:{round:""}},[n("span",{staticClass:"el-icon-caret-right",on:{click:t.handlePlayAllSongs}},[t._v("播放全部")]),n("span",{staticClass:"el-icon-plus play-all"})]),t.values.subscribed?t._e():n("el-button",{style:t.isShowUpdataComponent?"pointer-events: none; opacity: 0.6;":"",attrs:{round:""},on:{click:t.handleCollectSonglist}},[n("span",{staticClass:"el-icon-folder-add"},[t._v("收藏("+t._s(t.values.subscribedCount)+"万)")])]),t.values.subscribed?n("el-button",{attrs:{round:""},on:{click:t.handleCollectSonglist}},[n("span",{staticClass:"el-icon-folder-add"},[t._v("已收藏("+t._s(t.values.subscribedCount)+"万)")])]):t._e(),n("el-button",{attrs:{round:""}},[n("span",{staticClass:"el-icon-edit-outline"},[t._v("分享("+t._s(t.values.shareCount)+")")])]),n("el-button",{attrs:{round:""}},[n("span",{staticClass:"el-icon-download"},[t._v("下载全部")])])],1),t.isShowPlayListComponent?t._e():n("div",{staticClass:"album-info"},[n("span",{staticClass:"songer"},[t._v("歌手："+t._s(t.values.singer))]),n("br"),n("span",{staticClass:"time"},[t._v("时间："+t._s(t.values.publishTime))])]),t.isShowPlayListComponent?n("span",{staticClass:"biaoqian"},[t._v("标签：")]):t._e(),t._l(t.values.tags,(function(e){return n("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowPlayListComponent,expression:"isShowPlayListComponent"}],key:e,staticClass:"songlist-title"},[t._v(t._s(e)+" ")])})),t.isShowPlayListComponent&&0===t.values.tags.length?n("span",{staticClass:"updata-type"},[t._v("添加标签")]):t._e(),t.isShowPlayListComponent?n("div",{staticClass:"song-other-info"},[t._v(" 歌曲："+t._s(t.values.trackCount)+" 播放："+t._s(t.values.playCount)+"万 ")]):t._e(),t.isShowPlayListComponent?n("div",{staticClass:"description",style:!0===t.isShowDescription?"overflow: visible;":"overflow: hidden;"},[t._v(" 简介： "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowPlayListComponent&&""===t.values.description,expression:"isShowPlayListComponent && values.description === ''"}],staticClass:"updata-desc",on:{click:t.handleToUpdataPapg}},[t._v("添加简介")]),t._v(t._s(t.values.description)+" ")]):t._e()],2),t.isShowPlayListComponent?n("div",{staticClass:"el-icon-caret-bottom show-description",on:{click:function(e){return t.showDescription()}}}):t._e()])},s=[],i={name:"PlayListDetailHead",props:{values:Object,isShowPlayListComponent:Boolean},data:function(){return{isShowDescription:!1}},methods:{showDescription:function(){this.isShowDescription=!this.isShowDescription},handlePlayAllSongs:function(){this.$store.state.playing||this.$emit("handlePlayAllSongs")},handleCollectSonglist:function(){this.$emit("handleCollectSonglist")},handleToUpdataPapg:function(){this.$router.push("/userupdata/"+this.$route.params.id)},clickToUserDetailPapg:function(){this.$router.push("/userdetail/"+this.info.creator.userId)}},computed:{isShowUpdataComponent:function(){return this.$store.state.isShowUpdataComponent}}},r=i,o=(n("56b9"),n("2877")),c=Object(o["a"])(r,a,s,!1,null,"1f067e1d",null);e["a"]=c.exports},f8e9:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"play-list-detail"},[n("play-list-detail-head",{attrs:{values:t.headInfo,isShowPlayListComponent:t.isShowPlayListComponent},on:{handleCollectSonglist:t.handleCollectSonglist,handlePlayAllSongs:t.handlePlayAllSongs}}),n("div",{staticClass:"play-list-detail-content"},[n("div",{staticClass:"top"},[n("div",{staticClass:"navbar"},t._l(t.navbar,(function(e,a){return n("div",{key:a,staticClass:"item",class:t.currentIndex===a?"active":"",on:{click:function(e){return t.itemClick(a)}}},[t._v(" "+t._s(e)+" ")])})),0),n("div",{staticClass:"search"},[t._v("123")])]),0!==t.currentIndex||this.$store.state.loading?2===t.currentIndex?n("collecter",{attrs:{collecter:t.collectorInfo}}):1===t.currentIndex?n("comment",{attrs:{commentInfo:t.commentInfo,id:this.id,t:1,type:2},on:{refeshCommrnt:t.getCommentInfo}}):t._e():n("song-list-component",{attrs:{songsInfo:t.playList},on:{handleSongClick:t.handleSongClick,handleDownload:t.handleDownload}}),n("Loading",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.loading,expression:"this.$store.state.loading"}],staticStyle:{height:"50vh"}})],1)],1)},s=[],i=(n("a4d3"),n("e01a"),n("d81d"),n("b0c0"),n("96cf"),n("1da1")),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"collecter"},t._l(t.collecter,(function(e,a){return n("div",{key:a,staticClass:"item"},[n("el-image",{attrs:{src:e.avatarUrl,alt:"",lazy:""}}),n("div",{staticClass:"nikcname"},[t._v(t._s(e.nickname))])],1)})),0)},o=[],c={name:"Collecter",props:{collecter:Array}},l=c,u=(n("d748"),n("2877")),d=Object(u["a"])(l,r,o,!1,null,"29eea342",null),m=d.exports,p=n("b606"),h=n("ecf2"),f=n("d52a"),v=n("bf93"),g=n("8137"),b=n("3a17"),C=(n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("bc3a")),w=n.n(C);function y(t,e){w()({method:"get",url:t,responseType:"blob"}).then((function(t){if(t){var n=window.URL.createObjectURL(t.data),a=document.createElement("a");document.body.appendChild(a),a.style.display="none",a.href=n,a.download="".concat(e,".mp3"),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(n)}}))}var _={components:{PlayListDetailHead:h["a"],SongListComponent:f["a"],Collecter:m,Comment:p["a"],Loading:v["a"]},name:"PlayListDetail",data:function(){return{TitleType:"歌单",currentIndex:0,navbar:["歌曲列表","评论","收藏者"],isShowPlayListComponent:!0,commentInfo:[],collectorInfo:[],playList:[],headInfo:null}},methods:{itemClick:function(t){switch(t){case 0:this.currentIndex=t;break;case 1:this.currentIndex=t,this.getCommentInfo();break;case 2:this.currentIndex=t,this.getCollector();break}},upDataSongListHeadInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id=t.$route.params.id,e.next=3,Object(g["P"])(t.id,20);case 3:n=e.sent,a=n.data,t.headInfo.subscribed=a.playlist.subscribed;case 6:case"end":return e.stop()}}),e)})))()},handleSongListDetailInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,s,i,r,o,c,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.commit("setLoading",!0),t.id=t.$route.params.id,e.next=4,Object(g["P"])(t.id,20);case 4:return n=e.sent,a=n.data,s={},s.coverImgUrl=a.playlist.coverImgUrl,s.titleType="歌单",s.name=a.playlist.name,s.nickname=a.playlist.creator.nickname,s.createTime=a.playlist.createTime,s.avatarUrl=a.playlist.creator.avatarUrl,s.subscribed=a.playlist.subscribed,s.subscribedCount=a.playlist.subscribedCount,s.shareCount=a.playlist.shareCount,s.tags=a.playlist.tags,s.trackCount=a.playlist.trackCount,s.playCount=a.playlist.playCount,s.description=a.playlist.description,s.id=a.playlist.id,t.headInfo=s,e.next=24,Object(g["N"])(a.playlist.trackIds.map((function(t){var e=t.id;return e})));case 24:return i=e.sent,r=i.data.songs,e.next=28,Object(g["S"])(r.map((function(t){var e=t.id;return e})));case 28:for(o=e.sent,0==!t.playList.length&&(t.playList=[]),c=0;c<r.length;c++){for(l={},l.id=r[c].id,l.url="",u=0;u<o.data.data.length;u++)o.data.data[u].id==l.id&&(l.url=o.data.data[u].url);for(l.name=r[c].name,l.singer=[],d=0;d<r[c].ar.length;d++)l.singer[d]={name:r[c].ar[d].name,id:r[c].ar[d].id};l.pic=r[c].al.picUrl,l.totleTime=r[c].dt,l.lyric=[],l.album={name:r[c].al.name,id:r[c].al.id},t.playList.push(l)}t.$store.commit("setLoading",!1);case 32:case"end":return e.stop()}}),e)})))()},handleSongClick:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,s,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(g["o"])(t[0].id);case 3:if(a=n.sent,!a.data.success){n.next=22;break}return n.next=7,Object(g["R"])(t[0].id);case 7:return s=n.sent,e.$store.commit("setCurrentIndex",t[1]),e.playList[t[1]].lyric=Object(b["a"])(s.data.lrc.lyric),e.$store.commit("changeCurrentPlay",e.playList[t[1]]),e.$store.commit("setAllSongsToPlayList",e.playList),e.$store.commit("setIsLoad","true"),n.next=15,Object(g["M"])(t[0].id);case 15:return i=n.sent,e.$store.state.SimiSongList=i.data.playlists,n.next=19,Object(g["y"])(t[0].id,100);case 19:r=n.sent,e.$store.state.commentInfo=r.data.comments,e.$store.commit("setToRecordSongList",e.playList[t[1]]);case 22:n.next=27;break;case 24:n.prev=24,n.t0=n["catch"](0),alert("音乐没有版权");case 27:case"end":return n.stop()}}),n,null,[[0,24]])})))()},handleDownload:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g["o"])(t.id);case 3:n=e.sent,n.data.success&&y(t.url,t.name),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),alert("音乐没有版权,无法下载");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},handleCollectSonglist:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.headInfo.subscribed){e.next=4;break}t.$confirm("确定不再收藏该歌单?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(g["gb"])(2,t.headInfo.id);case 2:t.refreshUserSonglistInfo();case 3:case"end":return e.stop()}}),e)})))),e.next=7;break;case 4:return e.next=6,Object(g["gb"])(1,t.headInfo.id);case 6:t.refreshUserSonglistInfo();case 7:case"end":return e.stop()}}),e)})))()},handlePlayAllSongs:function(){this.$store.commit("setAllSongsToPlayList",this.playList),this.$store.commit("changeCurrentPlay",this.playList[0]),this.$store.commit("setIsLoad","true")},refreshUserSonglistInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.upDataSongListHeadInfo(),n=JSON.parse(window.localStorage.getItem("currentUserInfo")),a=n.userId,e.next=5,Object(g["X"])(a);case 5:s=e.sent,t.$store.commit("setUserSonglistInfo",s),t.$store.commit("updataSonglist",a);case 8:case"end":return e.stop()}}),e)})))()},getCommentInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id=t.$route.params.id,e.next=3,Object(g["F"])(t.id,50);case 3:n=e.sent,a=n.data,t.commentInfo=a.comments;case 6:case"end":return e.stop()}}),e)})))()},getCollector:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id=t.$route.params.id,e.next=3,Object(g["q"])(t.id,30,30);case 3:n=e.sent,a=n.data,t.collectorInfo=a.subscribers,a.subscribers&&alert("NeedLogin");case 7:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.itemClick(t.currentIndex),t.handleSongListDetailInfo();case 2:case"end":return e.stop()}}),e)})))()},watch:{$route:function(){var t=this.$route.params.id;t&&(this.itemClick(this.currentIndex),this.handleSongListDetailInfo(),this.getCommentInfo())}}},S=_,k=(n("1acd"),Object(u["a"])(S,a,s,!1,null,"7aacbd10",null));e["default"]=k.exports}}]);
//# sourceMappingURL=chunk-2e98bb02.f037bc6b.js.map