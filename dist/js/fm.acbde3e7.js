(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["fm"],{3040:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"private-fm"},[r("div",{staticClass:"content_"},[r("div",{staticClass:"fm-content"},[r("div",{staticClass:"record-tools"},[r("div",{staticClass:"record"},[r("div",{staticClass:"pic"},[r("img",{staticClass:"current-pic",attrs:{src:t.currentSongInfo.pic}}),r("i",{directives:[{name:"show",rawName:"v-show",value:!t.playing||!t.goblePlayingState,expression:"!playing || !goblePlayingState"}],staticClass:"el-icon-caret-right play-button",on:{click:t.handlePlayingState}}),r("img",{directives:[{name:"show",rawName:"v-show",value:t.playing&&t.goblePlayingState,expression:"playing && goblePlayingState"}],staticClass:"stop-button",attrs:{src:n("3076"),alt:""},on:{click:t.handlePlayingState}})])]),r("div",{staticClass:"tools"},[r("div",{staticClass:"heart"},[r("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticStyle:{height:"30px",weight:"30px"},attrs:{src:n("ea3d"),alt:""}}),r("img",{staticStyle:{height:"30px",weight:"30px"},attrs:{src:n("75c0"),alt:""}})]),t._m(0),r("div",{staticClass:"next",on:{click:t.nextSong}},[r("i",{staticClass:"el-icon-caret-right",staticStyle:{"font-size":"30px"}})]),t._m(1)])]),r("div",{staticClass:"song-info"},[r("div",{staticClass:"song-name"},[t._v(t._s(t.currentSongInfo.name))]),r("div",{staticClass:"album-name"},[t._v(" 专辑："),r("span",[t._v(t._s(t.currentSongInfo.album))])]),r("div",{staticClass:"singer-name"},[t._v(" 歌手："),t._l(t.currentSongInfo.singer,(function(e){return r("span",{key:e.id},[t._v(t._s(e.name))])}))],2),r("div",{directives:[{name:"show",rawName:"v-show",value:t.currentSongInfo.lyric,expression:"currentSongInfo.lyric"}],ref:"lyric",staticClass:"lyric",attrs:{id:"lyric"}},t._l(t.currentSongInfo.lyric,(function(e,n){return r("div",{key:n,staticClass:"lyric-item",class:t.syncLyricToTime(e,n)?"lyric-active":""},[t._v(" "+t._s(e.content)+" ")])})),0),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.currentSongInfo.lyric,expression:"!currentSongInfo.lyric"}],staticClass:"noLyric"},[t._v("纯音乐")])])]),r("div",{staticClass:"comment"},[r("comment",{attrs:{commentInfo:t.commentInfo},on:{refeshCommrnt:t.getCommentInfo}})],1)])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"delete"},[n("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"30px"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"more"},[n("i",{staticClass:"el-icon-more",staticStyle:{"font-size":"30px"}})])}],a=(n("c740"),n("d81d"),n("b0c0"),n("96cf"),n("1da1")),s=n("b606"),o=n("3a17"),c=n("8137"),l={name:"PrivateFM",data:function(){return{textarea:"",commentInfo:[],currentSongInfo:null,playing:!0,playList:[],tag:!0}},components:{Comment:s["a"]},methods:{getSongInfo:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r,i,a,s,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["d"])();case 2:return n=e.sent,r=n.data,e.next=6,Object(c["S"])(r.data.map((function(t){var e=t.id;return e})));case 6:for(i=e.sent,a=0;a<r.data.length;a++){for(s={},s.id=r.data[a].id,s.url="",o=0;o<i.data.data.length;o++)i.data.data[o].id==s.id&&(s.url=i.data.data[o].url);for(s.name=r.data[a].name,s.album=r.data[a].album.name,s.singer=[],l=0;l<r.data[a].artists.length;l++)s.singer[l]={name:r.data[a].artists[l].name,id:r.data[a].artists[l].id};s.pic=r.data[a].album.blurPicUrl,s.totleTime=r.data[a].duration,s.lyric=null,t.playList.push(s)}t.currentSongInfo=t.playList[0],t.getCommentInfo(),t.getLyricInfo(),t.$store.commit("setAllSongsToPlayList",t.playList),t.$store.commit("changeCurrentPlay",t.currentSongInfo),t.$store.commit("setIsLoad",!0);case 14:case"end":return e.stop()}}),e)})))()},handlePlayingState:function(){this.playing?this.$store.commit("stop"):this.$store.commit("play"),this.playing=!this.playing},getCommentInfo:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["y"])(t.currentSongInfo.id);case 2:n=e.sent,t.commentInfo=n.data.comments;case 4:case"end":return e.stop()}}),e)})))()},getLyricInfo:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["R"])(t.currentSongInfo.id);case 2:n=e.sent,t.currentSongInfo.lyric=Object(o["a"])(n.data.lrc.lyric);case 4:case"end":return e.stop()}}),e)})))()},nextSong:function(){this.currentSongIndex===this.playList.length-1?(this.currentSongInfo=null,this.playList=[],this.$store.commit("setCurrentIndex",0),this.playing=!0,this.getSongInfo()):(this.playing=!0,this.$store.commit("setCurrentIndex",this.currentSongIndex+1),this.currentSongInfo=this.playList[this.currentSongIndex],this.$store.commit("changeCurrentPlay",this.currentSongInfo),this.getCommentInfo(),this.getLyricInfo())},syncLyricToTime:function(t,e){var n=!1,r=parseInt(this.$store.state.currentTime/1e3);return r>=t.time&&r<this.currentSongInfo.lyric[e+1].time&&e<=this.currentSongInfo.lyric.length&&(n=!0),n}},computed:{goblePlayingState:function(){return this.$store.state.playing},currentSongIndex:function(){return this.$store.state.currentIndex},isTagMinPlayerToNext:function(){return this.$store.state.isTagMinPlayerToNext},currentTime:function(){return this.$store.state.currentTime}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.state.isShowFmPlayer=!0,t.getSongInfo();case 2:case"end":return e.stop()}}),e)})))()},activated:function(){this.$store.state.isShowFmPlayer=!0,this.getSongInfo()},watch:{isTagMinPlayerToNext:function(){this.nextSong()},currentTime:function(){var t=this,e=36,n=this.$refs.lyric,r=this.$store.state.currentSongInfo.lyric.findIndex((function(e){return parseInt(t.currentTime/1e3)===e.time}));r<=4||r+4===this.$store.state.currentSongInfo.lyric.length||(n.scrollTop=(r-4)*e)}}},u=l,m=(n("b161"),n("2877")),g=Object(m["a"])(u,r,i,!1,null,"244d1815",null);e["default"]=g.exports},b161:function(t,e,n){"use strict";n("b409")},b409:function(t,e,n){},d81d:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").map,a=n("1dde"),s=n("ae40"),o=a("map"),c=s("map");r({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);