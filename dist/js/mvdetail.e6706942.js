(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mvdetail"],{"0dc3":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mv-detail"},[s("div",{staticClass:"content"},[s("div",{staticClass:"detail"},[t._m(0),s("div",{staticClass:"video"},[s("video",{attrs:{src:t.mvUrl,width:"750px",height:"420px",controls:"",preload:"auto"}})]),s("div",{staticClass:"mv-artist"},[s("img",{attrs:{src:t.artistImg,alt:""}}),t._l(t.artist,(function(e){return s("span",{key:e,staticClass:"item"},[t._v(t._s(e))])}))],2),s("div",{staticClass:"mv-info"},[s("div",{directives:[{name:"show",rawName:"v-show",value:Number(this.$route.params.id),expression:"Number(this.$route.params.id)"}],staticClass:"name"},[t._v(" "+t._s(t.artistName)+" ")]),s("i",{directives:[{name:"show",rawName:"v-show",value:Number(this.$route.params.id),expression:"Number(this.$route.params.id)"}],staticClass:"el-icon-caret-bottom",on:{click:t.showDescription}}),s("div",{directives:[{name:"show",rawName:"v-show",value:!Number(this.$route.params.id),expression:"!Number(this.$route.params.id)"}],staticClass:"title"},[t._v(" "+t._s(t.title)+" ")]),s("span",[t._v("发布："+t._s(t.publishTime))]),s("span",[t._v("播放："+t._s(t.playCount))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:Number(this.$route.params.id),expression:"Number(this.$route.params.id)"}],staticClass:"mv-description",style:!0===t.isShowDescription?"overflow: visible;":"overflow: hidden;"},[t._v(" "+t._s(t.desc)+" ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:!Number(this.$route.params.id),expression:"!Number(this.$route.params.id)"}],staticClass:"video-group"},t._l(t.videoGroup,(function(e,a){return s("span",{key:a,staticClass:"item"},[t._v(t._s(e.name))])})),0),s("div",{staticClass:"tools"},[s("div",{staticClass:"button"},[s("span",{staticClass:"el-icon-thumb"}),s("span",[t._v("赞("+t._s(t.likedCount)+")")])]),s("div",{staticClass:"button"},[s("span",{staticClass:"el-icon-folder-add"}),s("span",[t._v("收藏("+t._s(t.subCount)+")")])]),s("div",{staticClass:"button"},[s("span",{staticClass:"el-icon-edit-outline"}),s("span",[t._v("分享("+t._s(t.shareCount)+")")])]),t._m(1),s("span",{staticClass:"tip-off"},[t._v("举报")])]),s("div",{staticClass:"comment"},[s("div",{staticClass:"title"},[t._v("评论("+t._s(t.commentCount)+")")]),s("comment",{attrs:{commentInfo:t.commentInfo,t:t.t,type:t.type,id:this.id},on:{refeshCommrnt:t.getCommentInfo}})],1)]),s("div",{staticClass:"recommend"},[t._v("相似mv")])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[s("i",{staticClass:"el-icon-arrow-left"}),t._v("MV详情")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"button"},[s("span",{staticClass:"el-icon-download"}),s("span",[t._v("下载MV")])])}],n=(s("d81d"),s("b0c0"),s("a9e3"),s("ac1f"),s("1276"),s("96cf"),s("1da1")),r=s("b606"),o=s("b0ee"),c=s("8137"),u={components:{comment:r["a"]},name:"MvDetail",data:function(){return{mvUrl:"",commentInfo:[],artistImg:"",artist:[],artistName:"",publishTime:"",playCount:0,desc:"",subCount:0,shareCount:0,commentCount:0,likedCount:0,videoGroup:[],isShowDescription:!1,title:"",t:null,type:null}},methods:{showDescription:function(){this.isShowDescription=!this.isShowDescription,console.log(this.isShowDescription)},getCommentInfo:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.id=t.$route.params.id,!Number(t.$route.params.id)){e.next=8;break}return e.next=4,Object(c["z"])(t.id);case 4:s=e.sent,t.commentInfo=s.data.comments,e.next=12;break;case 8:return e.next=10,Object(c["Z"])(t.id);case 10:a=e.sent,t.commentInfo=a.data.comments;case 12:case"end":return e.stop()}}),e)})))()},getMvDetailInfo:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id=t.$route.params.id,e.next=3,Object(c["A"])(t.id);case 3:return s=e.sent,a=s.data,console.log(a),e.next=8,Object(c["B"])(t.id);case 8:return i=e.sent,console.log(i),e.next=12,Object(c["I"])();case 12:n=e.sent,console.log(n),t.artistImg=a.data.cover,t.artist=a.data.artists.map((function(t){var e=t.name;return e})),t.artistName=a.data.name,t.publishTime=a.data.publishTime,t.playCount=a.data.playCount,t.desc=a.data.desc,t.subCount=a.data.subCount,t.shareCount=a.data.shareCount,t.commentCount=a.data.commentCount,t.mvUrl=i.data.data.url,t.videoGroup=[],t.title="";case 26:case"end":return e.stop()}}),e)})))()},getVideoDetailInfo:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,i,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id=t.$route.params.id,e.next=3,Object(c["ab"])(t.id);case 3:return s=e.sent,a=s.data,console.log(a),e.next=8,Object(c["db"])(t.id);case 8:return i=e.sent,console.log(i),e.next=12,Object(c["bb"])(t.id);case 12:return n=e.sent,e.next=15,Object(c["h"])(t.id);case 15:r=e.sent,console.log(r),t.artistImg=a.data.coverUrl,t.artist=a.data.creator.nickname.split(""),t.publishTime=Object(o["b"])(a.data.publishTime),t.playCount=a.data.praisedCount,t.desc="",t.subCount=a.data.subscribeCount,t.shareCount=n.data.shareCount,t.commentCount=n.data.commentCount,t.likedCount=n.data.likedCount,t.mvUrl=i.data.urls[0].url,t.title=a.data.title,t.videoGroup=a.data.videoGroup;case 29:case"end":return e.stop()}}),e)})))()}},created:function(){this.getCommentInfo(),Number(this.$route.params.id)?(this.getMvDetailInfo(),this.t=1,this.type=1):(this.getVideoDetailInfo(),this.t=1,this.type=5),this.$store.commit("stop")}},m=u,d=(s("8700"),s("2877")),l=Object(d["a"])(m,a,i,!1,null,"20fb93a4",null);e["default"]=l.exports},8700:function(t,e,s){"use strict";s("d216")},d216:function(t,e,s){},d81d:function(t,e,s){"use strict";var a=s("23e7"),i=s("b727").map,n=s("1dde"),r=s("ae40"),o=n("map"),c=r("map");a({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);